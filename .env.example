# Environment Variables for Comprehensive Crypto Data Collector (ETH + BTC)
# Copy this file to .env and customize for your deployment

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
POSTGRES_DB=crypto_data
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_secure_password_here  # CHANGE THIS!

# ============================================================================
# GRAFANA CONFIGURATION
# ============================================================================
GRAFANA_USER=admin
GRAFANA_PASSWORD=your_grafana_password_here  # CHANGE THIS!

# ============================================================================
# GENERAL APPLICATION SETTINGS
# ============================================================================
LOG_LEVEL=INFO
DEPLOYMENT_ENV=nas
TZ=Asia/Hong_Kong

# ============================================================================
# WEBSOCKET COLLECTORS (Real-time Options Tick Data)
# ============================================================================

# ETH WebSocket Collector
WS_ETH_TOP_N=50                    # Number of top ETH options by open interest

# BTC WebSocket Collector
WS_BTC_TOP_N=50                    # Number of top BTC options by open interest

# Buffer and Flush Settings (applies to both ETH and BTC)
BUFFER_SIZE_QUOTES=200000          # Max quotes in memory before forced flush
BUFFER_SIZE_TRADES=100000          # Max trades in memory before forced flush
FLUSH_INTERVAL_SEC=3               # Flush to database every N seconds
SNAPSHOT_INTERVAL_SEC=300          # Periodic REST API snapshot interval (5 minutes)

# ============================================================================
# REST API COLLECTOR (OHLCV + Greeks for ETH + BTC)
# ============================================================================

# Collection Intervals (in seconds)
REST_PERPETUAL_INTERVAL=60         # Perpetuals OHLCV collection (1 minute)
REST_FUTURES_INTERVAL=60           # Futures OHLCV collection (1 minute)
REST_OPTIONS_OHLCV_INTERVAL=60     # Options OHLCV collection (1 minute)
REST_GREEKS_INTERVAL=3600          # Options Greeks collection (1 hour)

# ============================================================================
# FUNDING RATES COLLECTOR (Perpetuals funding rates)
# ============================================================================

FUNDING_CHECK_INTERVAL_SEC=600     # Check for new funding rates every 10 minutes
                                   # Note: Deribit publishes funding at 00:00, 08:00, 16:00 UTC

# ============================================================================
# ADVANCED SETTINGS (Usually don't need to change)
# ============================================================================

# WebSocket URL (default is correct for Deribit)
# DERIBIT_WS_URL=wss://www.deribit.com/ws/api/v2

# Database URL (auto-constructed from POSTGRES_* variables in docker-compose)
# DATABASE_URL=postgresql://postgres:password@timescaledb:5432/crypto_data
